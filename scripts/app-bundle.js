define("app",["exports"],function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});e.App=function(){function e(){t(this,e)}return e.prototype.configureRouter=function(e,t){this.router=t,e.title="Rhythm Exercises",e.map([{route:[":index"],name:"rhythm",moduleId:"rhythm"}]),e.fallbackRoute("1")},e}()}),define("environment",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={debug:!1,testing:!1}}),define("exercise",["exports"],function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});e.Exercise=function e(n){t(this,e),this.rhythms=n||[]}}),define("main",["exports","./environment"],function(e,t){"use strict";function n(e){e.use.standardConfiguration().feature("resources"),i.default.debug&&e.use.developmentLogging(),i.default.testing&&e.use.plugin("aurelia-testing"),e.start().then(function(){return e.setRoot()})}Object.defineProperty(e,"__esModule",{value:!0}),e.configure=n;var i=function(e){return e&&e.__esModule?e:{default:e}}(t)}),define("rhythm",["exports","aurelia-framework","text!./rhythms.json","exercise"],function(e,t,n,i){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t,n,i,r){var o={};return Object.keys(i).forEach(function(e){o[e]=i[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,i){return i(e,t,n)||n},o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.Rhythm=void 0;var s,a,u,c,l,h=function(e){return e&&e.__esModule?e:{default:e}}(n),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();e.Rhythm=(s=(0,t.inject)(t.Factory.of(i.Exercise)),a=(0,t.computedFrom)("index"),u=(0,t.computedFrom)("index"),s((l=function(){function e(t){r(this,e),this.exercises=[],this.rhythms=[],this.previous=[],this.index=0,this.french="",this.count="",this.names=[],this.notes=[],this.exercises=[],this._exerciseModel=t}return e.prototype.getExercises=function(){var e=[],t=1,n=this.index;console.log("getExercises",n);for(var i=function(e,t){var n=(e>>>0).toString(2);for(void 0!==t&&(n+=t.toString());n.length<4;)n="0"+n;return Array.from(n).map(function(e){return Number(e)})},r=function(n){n&&0!==n.length&&(e.push(n),console.log("exercise",t,JSON.stringify(n)),t++)},o=[],s=1;s>=0;s--)for(var a=0;a<8;a++){var u=i(a,s).map(function(e,t){return n>1&&t<3?1===Number(e)?n:Number(1):Number(e)});o.push(u)}var c=function(e){return e.lastIndexOf(n)<3&&-1!==e.indexOf(n)&&(-1!==e.indexOf(0)||-1!==e.indexOf(1))};o=o.filter(c),console.log("level0",JSON.stringify(o)),r(o);var l=function(e,t){for(var r=[],o=parseInt(e.map(function(e,t){return e===n&&3!==t?1:0}).join(""),2),s=parseInt(t.map(function(e,t){return e===n&&3!==t?1:0}).join(""),2),a=i(o|s),u=0;u<a.length;u++)e[u]===n&&1===a[u]&&(a[u]=0);if(-1!==a.indexOf(1)){for(var u=0;u<n;u++){var c=JSON.parse(JSON.stringify(e));c[a.indexOf(1)]=u,r.push(c)}return r}};return function e(t,i){if(t&&!(i<=0)){i--;for(var o=0;o<t.length;o++){var s=o+1>=t.length?t[0]:t[o+1];if(-1!==s.indexOf(n)&&3!==t[o].lastIndexOf(0)){var a=l(t[o],s);a&&t[o+t.length/2]&&Array.prototype.push.apply(a,l(t[o+t.length/2],s)),a&&a.length<2||(r(a),e(a,i))}}}}(o,2),e},e.prototype.activate=function(e){if(e){var t=Number(e.index)||1;this.rhythms=JSON.parse(h.default);var n=this.rhythms[t];if(n){this.previous=this.rhythms.slice(0,t+1),this.index=t,this.french=n.french,this.count=n.count,this.names=n.names,this.notes=n.notes;var i=this._exerciseModel;this.exercises=this.getExercises().map(function(e){return i(e)})}}},f(e,[{key:"hasPrev",get:function(){return this.index>1}},{key:"hasNext",get:function(){return this.rhythms&&this.index<this.rhythms.length-1}}]),e}(),o(l.prototype,"hasPrev",[a],Object.getOwnPropertyDescriptor(l.prototype,"hasPrev"),l.prototype),o(l.prototype,"hasNext",[u],Object.getOwnPropertyDescriptor(l.prototype,"hasNext"),l.prototype),c=l))||c)}),define("resources/index",["exports"],function(e){"use strict";function t(e){e.globalResources(["./elements/vextab","./value-converters/notes"])}Object.defineProperty(e,"__esModule",{value:!0}),e.configure=t}),define("resources/elements/vextab",["exports","aurelia-binding","aurelia-templating","aurelia-dependency-injection","aurelia-pal","vextab"],function(e,t,n,i,r,o){"use strict";function s(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t,n,i,r){var o={};return Object.keys(i).forEach(function(e){o[e]=i[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,i){return i(e,t,n)||n},o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.Vextab=void 0;var c,l,h,f,d,p,v=0;e.Vextab=(c=(0,i.inject)(Element,o.VexTab,o.Artist,o.Flow),l=(0,n.bindable)({defaultBindingMode:t.bindingMode.twoWay}),c((f=function(){function e(t,n,i,r){a(this,e),s(this,"markup",d,this),s(this,"width",p,this),this.id=v++,this.element=t,this._vexRenderer,this._vexTab=n,this._vexFlow=r,this._vexArtist=i,this._vexArtist.x=10,this._vexArtist.y=10,this._vexArtist.last_y=10,this._vexTab.artist=this._vexArtist}return e.prototype.attached=function(){this._vexRenderer=new this._vexFlow.Renderer(this.element.childNodes[0],this._vexFlow.Renderer.Backends.SVG),this._vexArtist.width=this.width,this._vexArtist.customizations.width=this.width,this.parseMarkup(this.markup)},e.prototype.markupChanged=function(){this.parseMarkup(this.markup)},e.prototype.parseMarkup=function(e){if(e&&this._vexRenderer){e="tabstave clef=none notation=true tablature=false\nnotes "+e,this._vexArtist.last_y=10,this._vexArtist.staves=[],this._vexArtist.stave_articulations=[],this._vexArtist.tab_articulations=[];try{this._vexTab.parse(e),this._vexArtist.render(this._vexRenderer)}catch(e){console.log(e)}}},e}(),d=u(f.prototype,"markup",[l],{enumerable:!0,initializer:null}),p=u(f.prototype,"width",[n.bindable],{enumerable:!0,initializer:function(){return 400}}),h=f))||h)}),define("resources/value-converters/notes",["exports","text!../../rhythms.json"],function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.NotesValueConverter=void 0;var i=function(e){return e&&e.__esModule?e:{default:e}}(t);e.NotesValueConverter=function(){function e(){n(this,e),this.rhythms=JSON.parse(i.default)}return e.prototype.toView=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n="",i=0;i<e.length;i++)n&&(n+=" "),n+=this.rhythms[e[i]].notes[t];return n},e}()}),define("text!rhythms.json",[],function(){return'[\n  {\n    "french": "taa",\n    "names": [\n      "crotchet",\n      "quarter note"\n    ],\n    "count": "1 beat",\n    "notes": [":4 E/4"]\n  },\n  {\n    "french": "rest",\n    "names": [\n      "crotchet rest",\n      "quarter note rest"\n    ],\n    "count": "1 beat",\n    "notes": [":4 ##"]\n  },\n  {\n    "french": "tafa-fe",\n    "names": [\n      "semiquaver quaver semiquaver",\n      "sixteenth note, eigth note, sixteenth note"\n    ],\n    "count": "1/4 beat + 1/2 beat + 1/4 beat",\n    "notes": [\n      ":16 E/4 :8 E/4 :16 E/4",\n      ":16 E-EbE-E/4"\n    ]\n  },\n  {\n    "french": "ta - te",\n    "names": [\n      "dotted - quaver - semiquaver",\n      "dotted eigth note and sixteenth note"\n    ],\n    "count": "3/4 beat + 1/4 beat",\n    "notes": [":8d E/4 :16 E/4"]\n  }\n]\n'}),define("text!app.html",["module"],function(e){e.exports='<template><require from="./style/main.css"></require><a href="https://github.com/rhythmexercises/rhythmexercises.github.io"><img style="position:absolute;top:0;right:0;border:0" src="https://camo.githubusercontent.com/e7bbb0521b397edbd5fe43e7f760759336b5e05f/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f677265656e5f3030373230302e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_green_007200.png"></a><router-view class="${router.isNavigating ? \'navigating\' : \'\'}"></router-view></template>'}),define("text!exercise.html",["module"],function(e){e.exports='<template><div><h3>Exercise ${$index+1}</h3><ul><li repeat.for="rhythm of rhythms"><vextab width="200" markup.bind="rhythm | notes"></vextab></li></ul></div></template>'}),define("text!style/main.css",["module"],function(e){e.exports="header a {\n  font-size: 1.2em;\n  font-weight: bold; }\n\n.container {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center; }\n  .container > div {\n    flex: 0 1 auto;\n    padding: 0 1em; }\n    .container > div .grow {\n      flex-grow: 1;\n      flex-shrink: 0; }\n    .container > div .shrink {\n      flex-grow: 0;\n      flex-shrink: 1; }\n  .container ul {\n    list-style-type: none;\n    padding-left: 0; }\n\nsvg text {\n  display: none; }\n"}),define("text!rhythm.html",["module"],function(e){e.exports='<template><header class="container"><div class="shrink" show.bind="hasPrev"><a href="#/${index-1}">Prev</a></div><div class="grow"><h1>Rhythm Exercises</h1><dl><dt>Rhythm</dt><dd><vextab width="200" markup.bind="notes[0]"></vextab></dd><dt>French</dt><dd><code>${french}</code></dd><dt>Other</dt><dd><ul repeat.for="name of names"><li>${name}</li></ul></dd><dt>Count</dt><dd>${count}</dd></dl></div><div class="shrink" show.bind="hasNext"><a href="#/${index+1}">Next</a></div></header><div class="container"><template repeat.for="exercise of exercises"><compose view-model.bind="exercise" containerless></compose></template></div></template>'}),define("text!resources/elements/vextab.html",["module"],function(e){e.exports="<template><div id.one-time=\"'au-vextab-' + id\"></div></template>"});